<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ูุงุชูุฑุฉ ูุจูุนุงุช โ B.S Medical &amp; Aesthetic</title>

  <link rel="stylesheet" href="style.css">
</head>

<body>
<div class="wrap" id="app">
  <div class="topbar">
    <div class="brand">
      <div class="logo">
        <img src="images/bslogo.webp" alt="BS Logo" onerror="this.style.display='none'">
      </div>
      <div>
        <div class="brandTitle">B.S Medical &amp; Aesthetic</div>
        <div class="brandSub">ูุงุชูุฑุฉ ูุจูุนุงุช โ ุฅุฏุงุฑุฉ ูุฅูุดุงุก ููุงุชูุฑ</div>
      </div>
    </div>

    <div class="topActions">
      <a class="btn secondary" href="dashboard.html" style="text-decoration:none;white-space:nowrap">โฌ ุฑุฌูุน ููุฏุงุด ุจูุฑุฏ</a>
      <button class="btn secondary" id="logoutBtn" type="button">๐ช ุชุณุฌูู ุฎุฑูุฌ</button>
    </div>
  </div>

  <div class="card" id="importCard">
    <h2>ุงุณุชูุฑุงุฏ ุทูุจ ูู ูุงุชุณุงุจ</h2>
    <textarea id="waImport" rows="5" placeholder="ุงูุตู ุฑุณุงูุฉ ุงูุทูุจ ูุงููุฉ ููุง (ููุง ูุตูุช ูู ูุงุชุณุงุจ)..."></textarea>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
      <button class="btn" id="importBtn" type="button">๐ฅ ุงุณุชูุฑุงุฏ ุฅูู ุงูุฌุฏูู</button>
      <button class="btn secondary" id="clearImportBtn" type="button">ูุณุญ</button>
    </div>
  </div>

  <div class="card">
    <h2 id="pageTitle">ูุงุชูุฑุฉ ูุจูุนุงุช โ B.S</h2>

    <div class="row" role="region" aria-label="ูุนูููุงุช ุงููุงุชูุฑุฉ">
      <div>
        <label for="invNo">ุฑูู ุงููุงุชูุฑุฉ</label>
        <input id="invNo" readonly />
      </div>
      <div>
        <label for="invDate">ุงูุชุงุฑูุฎ</label>
        <input id="invDate" readonly />
      </div>
      <div>
        <label for="invTime">ุงูููุช</label>
        <input id="invTime" readonly />
      </div>
      <div>
        <label for="orderId">Order ID (ุฑูู ุงูุทูุจ)</label>
        <input id="orderId" placeholder="ูุซุงู: 12548" />
      </div>
    </div>

    <div style="margin-top:12px;">
      <div class="row1">
        <div>
          <label for="custName">ุงุณู ุงูุนููู</label>
          <input id="custName" placeholder="ุงุณู ุงูุนููู" />
        </div>
        <div>
          <label for="custPhone">ุฑูู ุงููุงุชู</label>
          <input id="custPhone" placeholder="ูุซุงู: 01xxxxxxxxx ุฃู +201xxxxxxxxx" inputmode="tel" />
        </div>
        <div>
          <label for="custAddress">ุงูุนููุงู</label>
          <input id="custAddress" placeholder="ุงูุนููุงู (ุงููุญุงูุธุฉ / ุงูููุทูุฉ / ุชูุงุตูู)" />
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <h2>ุงูุฃุตูุงู</h2>

    <div class="table-wrap" aria-live="polite">
      <table id="itemsTable" role="table" aria-label="ุฌุฏูู ุงูุฃุตูุงู">
        <thead>
          <tr>
            <th style="width:60px">#</th>
            <th>SKU / ุงูููุชุฌ</th>
            <th>ุงููููุฉ</th>
            <th>ุงูุณุนุฑ</th>
            <th>ุฎุตู (ุฌููู)</th>
            <th>ุงูุฅุฌูุงูู</th>
            <th>ุญุฐู</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div style="display:flex;gap:12px;margin-top:12px;align-items:center;flex-wrap:wrap">
      <button class="btn" id="addRowBtn" type="button">+ ุฅุถุงูุฉ ุตูู</button>
    </div>

    <div class="extraBox">
      <div>
        <label for="globalDiscount">ุฎุตู ุฎุงุต (ุฌููู)</label>
        <input id="globalDiscount" type="number" step="0.01" min="0" placeholder="0 ุฃู ูุงุถู = ุจุฏูู ุฎุตู ุฎุงุต" />
      </div>
      <div>
        <label for="deliveryFee">ุฎุฏูุฉ ุงูุชูุตูู (ุฌููู)</label>
        <input id="deliveryFee" type="number" step="0.01" min="0" placeholder="0 ุฃู ูุงุถู = ุชูุตูู ูุฌุงูู" />
      </div>
      <div>
        <label for="invoiceNote">ููุงุญุธุฉ ุฃุณูู ุงููุงุชูุฑุฉ</label>
        <input id="invoiceNote" placeholder="ูุซุงู: ุดูุฑูุง ูุชุนุงูููู ูุนูุง" />
      </div>
    </div>

    <div class="totalBox" id="totalsBox"></div>
    <div class="amount-words" id="amountWords"></div>
    <div class="noteBox" id="noteBox" style="display:none"></div>
  </div>

  <div class="card" id="actionsCard">
    <div class="row2" id="thermalRow">
      <button class="btn" id="thermal80Btn" type="button">๐งพ ุทุจุงุนุฉ ุญุฑุงุฑู 80mm</button>
      <button class="btn" id="thermal58Btn" type="button">๐งพ ุทุจุงุนุฉ ุญุฑุงุฑู 58mm</button>
    </div>

    <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap" id="a4Row">
      <button class="btn" id="printA4Btn" type="button" style="flex:1">๐จ๏ธ ุทุจุงุนุฉ A4</button>
      <button class="btn" id="savePdfA4Btn" type="button" style="flex:1">๐ ุญูุธ PDF ูู A4</button>
    </div>
  </div>
</div>

<footer class="site-footer">
  <div class="line1">Axentro โ All Rights Reserved 2024 ยฉ</div>
  <div class="line2">By Ahmed Hamouda</div>
</footer>

<div class="toast" id="toast" role="status" aria-live="polite"></div>

<script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>

<script src="config.js"></script>
<script src="app.js"></script>
<script>
  AxentroAuth.requireAuth();
  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById("logoutBtn")?.addEventListener("click", (e) => {
      e.preventDefault();
      AxentroAuth.logout();
    });
  });
</script>
</body>
</html>
